(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1809:function(module,exports,__webpack_require__){},1812:function(module,exports,__webpack_require__){},1920:function(module,exports,__webpack_require__){},1965:function(module,exports,__webpack_require__){},1967:function(module,exports,__webpack_require__){},1969:function(module,exports,__webpack_require__){},2000:function(module,exports,__webpack_require__){},2002:function(module,exports,__webpack_require__){},2005:function(module,exports,__webpack_require__){},2007:function(module,exports,__webpack_require__){},2011:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),react_dom=__webpack_require__(127),react_dom_default=__webpack_require__.n(react_dom),es=__webpack_require__(22),isLocalhost=(__webpack_require__(483),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function registerValidSW(swUrl){navigator.serviceWorker.register(swUrl).then(function(registration){registration.onupdatefound=function(){var installingWorker=registration.installing;installingWorker.onstatechange=function(){"installed"===installingWorker.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(error){console.error("Error during service worker registration:",error)})}var objectSpread=__webpack_require__(19),connected_react_router_lib=__webpack_require__(31),history_es=__webpack_require__(67),redux=__webpack_require__(99),redux_devtools_extension=__webpack_require__(436),redux_logger=__webpack_require__(437),redux_logger_default=__webpack_require__.n(redux_logger),redux_thunk_es=__webpack_require__(438),regenerator=__webpack_require__(7),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(10),getMemoDashLib=function(state){return state.root.memoDashLib},reselect_es=__webpack_require__(36),combineMemoId=function(username,memoId){return"[".concat(username,"][").concat(memoId,"]")},initialState={memos:void 0},memo_selector_getMemos=function(state){return state.memo.memos},memo_selector_getMemoByCombinedId=function(memoId){return Object(reselect_es.a)([memo_selector_getMemos],function(memos){return memos?memos[memoId]:void 0})},memo_selector_getMemosByCombinedIds=function(memoIds){return Object(reselect_es.a)([memo_selector_getMemos],function(memos){return memoIds&&memos?memoIds.map(function(memoId){return memos[memoId]}):void 0})},memo_selector_isMemoOfCurrentUser=function(memo){return Object(reselect_es.a)([getCurrentUsername],function(currentUserName){return memo?currentUserName===memo.username:void 0})},memo_selector_getLikesOfMissingMemos=function(likes){return Object(reselect_es.a)([memo_selector_getMemos],function(availableMemos){return likes.filter(function(like,index,self){return self.indexOf(like)===index}).filter(function(like){return!availableMemos[combineMemoId(like.relation.username,like.relation.index)]})})},user_selector_getUsers=function(state){return state.user.users},getCurrentUsername=function(state){return state.user.currentUser},getCurrentUser=Object(reselect_es.a)([getCurrentUsername,user_selector_getUsers],function(currentUser,users){return users?users[currentUser]:void 0}),user_selector_getUserByUsername=function(username){return Object(reselect_es.a)(user_selector_getUsers,function(users){return users[username]})},user_selector_getUserFollowers=function(username){return Object(reselect_es.a)([user_selector_getUserByUsername(username),user_selector_getUsers],function(user,users){return user&&user.followers?user.followers.map(function(follower){return users[follower]}):void 0})},user_selector_getUserFollowing=function(username){return Object(reselect_es.a)([user_selector_getUserByUsername(username),user_selector_getUsers],function(user,users){return user&&user.following?user.following.map(function(following){return users[following]}):void 0})},user_selector_getUserLikes=function(username){return Object(reselect_es.a)([user_selector_getUserByUsername(username)],function(user){return user?user.likes:void 0})},user_selector_getMissingUsers=function(usernames){return Object(reselect_es.a)([user_selector_getUsers],function(availableUsers){return usernames.filter(function(username,index,self){return self.indexOf(username)===index}).filter(function(username){return!availableUsers[username]})})},user_selector_isProfileOfCurrentUser=function(userProfile){return Object(reselect_es.a)([getCurrentUsername],function(currentUser){return userProfile.username===currentUser})},getOpenedMemo=Object(reselect_es.a)([function(state){return state.memoModal.openedMemo},function(state){return state.memo.memos}],function(openedMemo,memos){return memos?memos[openedMemo]:void 0}),getPathname=function(state){return state.router.location.pathname},UserActionTypes_USER_RECEIVED="USER_RECEIVED",UserActionTypes_USERS_RECEIVED="USERS_RECEIVED",UserActionTypes_USER_UPDATED="USER_UPDATED",user_actions_getAllUsers=function(){return function(){var _ref=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee(dispatch,getState){var users;return regenerator_default.a.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,getMemoDashLib(getState()).getAllUsers();case 2:users=_context.sent,dispatch(usersReceived(users));case 4:case"end":return _context.stop()}},_callee,this)}));return function(_x,_x2){return _ref.apply(this,arguments)}}()},user_actions_getUsers=function(usernames){return function(){var _ref2=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee2(dispatch,getState){var users;return regenerator_default.a.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,getMemoDashLib(getState()).getUsers(usernames);case 2:users=_context2.sent,dispatch(usersReceived(users));case 4:case"end":return _context2.stop()}},_callee2,this)}));return function(_x3,_x4){return _ref2.apply(this,arguments)}}()},user_actions_getUser=function(username){return function(){var _ref3=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee3(dispatch,getState){var user;return regenerator_default.a.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,getMemoDashLib(getState()).getUser(username);case 2:return user=_context3.sent,_context3.next=5,dispatch(userReceived(user));case 5:case"end":return _context3.stop()}},_callee3,this)}));return function(_x5,_x6){return _ref3.apply(this,arguments)}}()},userUpdated=function(username,props){return{type:UserActionTypes_USER_UPDATED,payload:{username:username,props:props}}},userReceived=function(user){return{type:UserActionTypes_USER_RECEIVED,payload:user}},usersReceived=function(users){return{type:UserActionTypes_USERS_RECEIVED,payload:users}},MemoActionTypes={MEMOS_RECEIVED:"MEMOS_RECEIVED",MEMO_UPDATED:"MEMO_UPDATED",MEMO_REPLIES_RECEIVED:"MEMO_REPLIES_RECEIVED",LIKE_REMOVED:"LIKE_REMOVED",LIKE_ADDED:"LIKE_ADDED",MEMO_DELETED:"MEMO_DELETED"},memo_actions_getMemosForUser=function(username){return function(){var _ref=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee(dispatch,getState){var memos,memoIds;return regenerator_default.a.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,getMemoDashLib(getState()).getMemosForUser(username);case 2:(memos=_context.sent)&&(dispatch(memosReceived(memos)),memoIds=memos.map(function(memo){return combineMemoId(memo.username,memo.idx)}),dispatch(userUpdated(username,{memoIds:memoIds})));case 4:case"end":return _context.stop()}},_callee,this)}));return function(_x,_x2){return _ref.apply(this,arguments)}}()},memo_actions_getMemos=function(memoIds){return function(){var _ref2=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee2(dispatch,getState){var state,memos,usernames;return regenerator_default.a.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return state=getState(),_context2.next=3,getMemoDashLib(state).getMemos(memoIds);case 3:(memos=_context2.sent)&&(dispatch(memosReceived(memos)),(usernames=user_selector_getMissingUsers(memos.map(function(memo){return memo.username}))(state))&&usernames.length>0&&dispatch(user_actions_getUsers(usernames)));case 5:case"end":return _context2.stop()}},_callee2,this)}));return function(_x3,_x4){return _ref2.apply(this,arguments)}}()},memosReceived=function(memos){return{type:MemoActionTypes.MEMOS_RECEIVED,payload:memos}},likeAdded=function(likeId){return{type:MemoActionTypes.LIKE_ADDED,payload:likeId}},likeRemoved=function(likeId){return{type:MemoActionTypes.LIKE_REMOVED,payload:likeId}},memoUpdated=function(memo){return{type:MemoActionTypes.MEMO_UPDATED,payload:memo}},memo_actions_getMemoReplies=function(username,memoId){return function(){var _ref6=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee6(dispatch,getState){var lib,replies;return regenerator_default.a.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return lib=getMemoDashLib(getState()),_context6.next=3,lib.getMemoReplies(username,memoId);case 3:replies=_context6.sent,dispatch(memoRepliesReceived(username,memoId,replies));case 5:case"end":return _context6.stop()}},_callee6,this)}));return function(_x11,_x12){return _ref6.apply(this,arguments)}}()},memoRepliesReceived=function(username,memoId,replies){return{type:MemoActionTypes.MEMO_REPLIES_RECEIVED,payload:{username:username,memoId:memoId,replies:replies}}},memoDeleted=function(memoId){return{type:MemoActionTypes.MEMO_DELETED,payload:memoId}},AuthActionTypes_LOGIN_ERROR="LOGIN_ERROR",AuthActionTypes_LOGIN_SUCCESSFULL="LOGIN_SUCCESSFULL",AuthActionTypes_LOGOUT_ERROR="LOGOUT_ERROR",AuthActionTypes_LOGOUT_SUCCESSFULL="LOGOUT_SUCCESSFULL",loginError=function(message){return{type:AuthActionTypes_LOGIN_ERROR,payload:message}},loginSuccessfull=function(username){return{type:AuthActionTypes_LOGIN_SUCCESSFULL,payload:username}},logoutError=function(message){return{type:AuthActionTypes_LOGOUT_ERROR,payload:message}},logoutSuccessfull=function(){return{type:AuthActionTypes_LOGOUT_SUCCESSFULL}},slicedToArray=__webpack_require__(464),classCallCheck=__webpack_require__(29),createClass=__webpack_require__(30),memodash_client=__webpack_require__(281),memodash_client_default=__webpack_require__.n(memodash_client),dash_vmn=__webpack_require__(54),memodash_client_fixtures=__webpack_require__(286),memodash_schema=__webpack_require__(215),faker=__webpack_require__(209),faker_default=__webpack_require__.n(faker),generateTestData=function(){var _ref=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee(client){var availableDap,dapId,users;return regenerator_default.a.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,client.searchDaps(memodash_schema.title);case 2:if(!((availableDap=_context.sent).length>0)){_context.next=10;break}return console.log("Dap already available -> skip creation",availableDap[0]),dapId=availableDap[0].dapcontract.meta.dapid,_context.next=8,loadDapContract(client,dapId);case 8:_context.next=23;break;case 10:return console.log("No Dap available -> create one",availableDap[0]),_context.prev=11,users=[memodash_client_fixtures.alice_subtx_1.subtx.uname,memodash_client_fixtures.bob_subtx_1.subtx.uname],_context.next=15,createUsers.apply(void 0,[client].concat(users));case 15:return _context.next=17,connectMutually.apply(void 0,[client].concat(users));case 17:_context.next=23;break;case 19:throw _context.prev=19,_context.t0=_context.catch(11),client.log("error generating test data",_context.t0),new Error(_context.t0);case 23:case"end":return _context.stop()}},_callee,this,[[11,19]])}));return function(_x){return _ref.apply(this,arguments)}}(),loadDapContract=function(){var _ref2=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee2(client,dapId){var dapContract;return regenerator_default.a.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,client.getDap(dapId);case 2:dapContract=_context2.sent,client.setDap(dapContract);case 4:case"end":return _context2.stop()}},_callee2,this)}));return function(_x2,_x3){return _ref2.apply(this,arguments)}}(),createUsers=function(){var _ref3=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee3(client){var _len,users,_key,i,username,dapid,_i,_args3=arguments;return regenerator_default.a.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:for(_len=_args3.length,users=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)users[_key-1]=_args3[_key];_context3.t0=regenerator_default.a.keys(users);case 2:if((_context3.t1=_context3.t0()).done){_context3.next=28;break}return i=_context3.t1.value,username=users[i],_context3.next=7,client.createBlockchainUser(username);case 7:return _context3.next=9,client.login(username);case 9:if("0"!==i){_context3.next=16;break}return console.log("Create DAP"),_context3.next=13,client.createDap(memodash_schema);case 13:return dapid=_context3.sent,_context3.next=16,loadDapContract(client,dapid);case 16:return _context3.next=18,client.signup({text:faker_default.a.lorem.sentence(),avatarUrl:faker_default.a.image.avatar(),address:faker_default.a.address.streetAddress(),name:faker_default.a.name.firstName()});case 18:_i=0;case 19:if(!(_i<3)){_context3.next=25;break}return _context3.next=22,client.postMemo(faker_default.a.lorem.sentence(faker_default.a.random.number({min:13,max:20})));case 22:_i++,_context3.next=19;break;case 25:client.logout(),_context3.next=2;break;case 28:client.log("generated test data for "+memodash_schema.title);case 29:case"end":return _context3.stop()}},_callee3,this)}));return function(_x4){return _ref3.apply(this,arguments)}}(),connectMutually=function(){var _ref4=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee4(client){var _len2,users,_key2,_i2,user,_i3,otherUser,memos,_args4=arguments;return regenerator_default.a.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:for(_len2=_args4.length,users=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)users[_key2-1]=_args4[_key2];_i2=0;case 2:if(!(_i2<users.length)){_context4.next=26;break}user=users[_i2],_i3=0;case 5:if(!(_i3<users.length)){_context4.next=23;break}if(otherUser=users[_i3],user!==otherUser){_context4.next=9;break}return _context4.abrupt("continue",20);case 9:return _context4.next=11,client.login(user);case 11:return _context4.next=13,client.followUser(otherUser);case 13:return _context4.next=15,client.getMemosByUsername(otherUser);case 15:if(!((memos=_context4.sent)&&memos.length>0)){_context4.next=19;break}return _context4.next=19,client.likeMemo(memos[0].username,memos[0].idx);case 19:client.logout();case 20:_i3++,_context4.next=5;break;case 23:_i2++,_context4.next=2;break;case 26:case"end":return _context4.stop()}},_callee4,this)}));return function(_x5){return _ref4.apply(this,arguments)}}(),test_data_generator=generateTestData,memo_dash_lib_MemoDashLib=function(){function MemoDashLib(){Object(classCallCheck.a)(this,MemoDashLib),this._isIterable=function(object){return object&&Symbol.iterator in Object(object)}}return Object(createClass.a)(MemoDashLib,[{key:"init",value:function(){var _init=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return dash_vmn.Schema.VMN.Util.reset(),this.memoDashClient=new memodash_client_default.a,_context.next=4,test_data_generator(this.memoDashClient);case 4:case"end":return _context.stop()}},_callee,this)}));return function(){return _init.apply(this,arguments)}}()},{key:"searchBlockchainUsers",value:function(){var _searchBlockchainUsers=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee2(pattern){var users;return regenerator_default.a.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.memoDashClient.searchUsers(pattern);case 2:return users=_context2.sent,_context2.abrupt("return",users);case 4:case"end":return _context2.stop()}},_callee2,this)}));return function(_x){return _searchBlockchainUsers.apply(this,arguments)}}()},{key:"login",value:function(){var _login=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee3(config){return regenerator_default.a.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,this.memoDashClient.login(config.blockchainUsername);case 2:case"end":return _context3.stop()}},_callee3,this)}));return function(_x2){return _login.apply(this,arguments)}}()},{key:"logout",value:function(){var _logout=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee4(){return regenerator_default.a.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,this.memoDashClient.logout();case 2:case"end":return _context4.stop()}},_callee4,this)}));return function(){return _logout.apply(this,arguments)}}()},{key:"getUsers",value:function(){var _getUsers=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee5(usernames){var getUserPromises,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,username;return regenerator_default.a.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:for(getUserPromises=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0,_context5.prev=4,_iterator=usernames[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)username=_step.value,getUserPromises.push(this.getUser(username));_context5.next=12;break;case 8:_context5.prev=8,_context5.t0=_context5.catch(4),_didIteratorError=!0,_iteratorError=_context5.t0;case 12:_context5.prev=12,_context5.prev=13,_iteratorNormalCompletion||null==_iterator.return||_iterator.return();case 15:if(_context5.prev=15,!_didIteratorError){_context5.next=18;break}throw _iteratorError;case 18:return _context5.finish(15);case 19:return _context5.finish(12);case 20:return _context5.next=22,Promise.all(getUserPromises);case 22:return _context5.abrupt("return",_context5.sent);case 23:case"end":return _context5.stop()}},_callee5,this,[[4,8,12,20],[13,,15,19]])}));return function(_x3){return _getUsers.apply(this,arguments)}}()},{key:"getAllUsers",value:function(){var _getAllUsers=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee6(){var userProfiles,users,_this=this;return regenerator_default.a.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,this.memoDashClient.getAllProfiles();case 2:return userProfiles=_context6.sent,_context6.next=5,Promise.all(userProfiles.map(function(userProfile){return _this.getUser(userProfile.username)}));case 5:return users=_context6.sent,_context6.abrupt("return",users);case 7:case"end":return _context6.stop()}},_callee6,this)}));return function(){return _getAllUsers.apply(this,arguments)}}()},{key:"getUser",value:function(){var _getUser=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee7(username){var _ref,_ref2,profile,userId,followers,following,likes;return regenerator_default.a.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.next=2,Promise.all([this.memoDashClient.getUserProfile(username),this.memoDashClient.getUserId(username),this.memoDashClient.getUserFollowers(username),this.memoDashClient.getUserFollowing(username),this.getUserLikes(username)]);case 2:return _ref=_context7.sent,_ref2=Object(slicedToArray.a)(_ref,5),profile=_ref2[0],userId=_ref2[1],followers=_ref2[2],following=_ref2[3],likes=_ref2[4],_context7.abrupt("return",{username:username,profile:profile,userId:userId,followers:followers?followers.map(function(user){return user.username}):void 0,following:following?following.map(function(user){return user.username}):void 0,likes:likes});case 10:case"end":return _context7.stop()}},_callee7,this)}));return function(_x4){return _getUser.apply(this,arguments)}}()},{key:"getUserProfile",value:function(){var _getUserProfile=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee8(username){return regenerator_default.a.wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.next=2,this.memoDashClient.getUserProfile(username);case 2:return _context8.abrupt("return",_context8.sent);case 3:case"end":return _context8.stop()}},_callee8,this)}));return function(_x5){return _getUserProfile.apply(this,arguments)}}()},{key:"updateProfile",value:function(){var _updateProfile=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee9(bio){return regenerator_default.a.wrap(function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.next=2,this.memoDashClient.updateProfile({text:bio});case 2:case"end":return _context9.stop()}},_callee9,this)}));return function(_x6){return _updateProfile.apply(this,arguments)}}()},{key:"getMemosForUser",value:function(){var _getMemosForUser=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee10(username){return regenerator_default.a.wrap(function(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return _context10.next=2,this.memoDashClient.getMemosByUsername(username);case 2:return _context10.abrupt("return",_context10.sent);case 3:case"end":return _context10.stop()}},_callee10,this)}));return function(_x7){return _getMemosForUser.apply(this,arguments)}}()},{key:"getMemo",value:function(){var _getMemo=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee11(username,memoId){return regenerator_default.a.wrap(function(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return _context11.next=2,this.memoDashClient.getMemo(username,memoId);case 2:return _context11.abrupt("return",_context11.sent);case 3:case"end":return _context11.stop()}},_callee11,this)}));return function(_x8,_x9){return _getMemo.apply(this,arguments)}}()},{key:"getMemos",value:function(){var _getMemos=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee12(memoIds){var _this2=this;return regenerator_default.a.wrap(function(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:if(!memoIds){_context12.next=4;break}return _context12.next=3,Promise.all(memoIds.map(function(memoId){return _this2.getMemo(memoId.username,memoId.idx)}));case 3:return _context12.abrupt("return",_context12.sent);case 4:return _context12.next=6,this.memoDashClient.getMemos();case 6:return _context12.abrupt("return",_context12.sent);case 7:case"end":return _context12.stop()}},_callee12,this)}));return function(_x10){return _getMemos.apply(this,arguments)}}()},{key:"likeMemo",value:function(){var _likeMemo=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee13(username,memoId){return regenerator_default.a.wrap(function(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:return _context13.next=2,this.memoDashClient.likeMemo(username,memoId);case 2:case"end":return _context13.stop()}},_callee13,this)}));return function(_x11,_x12){return _likeMemo.apply(this,arguments)}}()},{key:"replyToMemo",value:function(){var _replyToMemo=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee14(username,memoId,message){var answer;return regenerator_default.a.wrap(function(_context14){for(;;)switch(_context14.prev=_context14.next){case 0:return _context14.next=2,this.memoDashClient.replyToMemo(username,memoId,message);case 2:return answer=_context14.sent,_context14.abrupt("return",answer);case 4:case"end":return _context14.stop()}},_callee14,this)}));return function(_x13,_x14,_x15){return _replyToMemo.apply(this,arguments)}}()},{key:"getMemoReplies",value:function(){var _getMemoReplies=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee15(username,memoId){return regenerator_default.a.wrap(function(_context15){for(;;)switch(_context15.prev=_context15.next){case 0:return _context15.next=2,this.memoDashClient.getMemoReplies(username,memoId);case 2:return _context15.abrupt("return",_context15.sent);case 3:case"end":return _context15.stop()}},_callee15,this)}));return function(_x16,_x17){return _getMemoReplies.apply(this,arguments)}}()},{key:"postMemo",value:function(){var _postMemo=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee16(message){return regenerator_default.a.wrap(function(_context16){for(;;)switch(_context16.prev=_context16.next){case 0:return _context16.next=2,this.memoDashClient.postMemo(message);case 2:case"end":return _context16.stop()}},_callee16,this)}));return function(_x18){return _postMemo.apply(this,arguments)}}()},{key:"deleteMemo",value:function(){var _deleteMemo=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee17(memoId){return regenerator_default.a.wrap(function(_context17){for(;;)switch(_context17.prev=_context17.next){case 0:return _context17.next=2,this.memoDashClient.deleteMemo(memoId);case 2:case"end":return _context17.stop()}},_callee17,this)}));return function(_x19){return _deleteMemo.apply(this,arguments)}}()},{key:"editMemo",value:function(){var _editMemo=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee18(memoId,message){return regenerator_default.a.wrap(function(_context18){for(;;)switch(_context18.prev=_context18.next){case 0:return _context18.next=2,this.memoDashClient.editMemo(memoId,message);case 2:case"end":return _context18.stop()}},_callee18,this)}));return function(_x20,_x21){return _editMemo.apply(this,arguments)}}()},{key:"removeLike",value:function(){var _removeLike=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee19(likeId){return regenerator_default.a.wrap(function(_context19){for(;;)switch(_context19.prev=_context19.next){case 0:return _context19.next=2,this.memoDashClient.removeLike(likeId);case 2:case"end":return _context19.stop()}},_callee19,this)}));return function(_x22){return _removeLike.apply(this,arguments)}}()},{key:"getUserLikes",value:function(){var _getUserLikes=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee21(username){var likes,_this3=this;return regenerator_default.a.wrap(function(_context21){for(;;)switch(_context21.prev=_context21.next){case 0:return _context21.next=2,this.memoDashClient.getUserLikes(username);case 2:return likes=_context21.sent,_context21.next=5,Promise.all(likes.map(function(){var _ref3=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee20(like){return regenerator_default.a.wrap(function(_context20){for(;;)switch(_context20.prev=_context20.next){case 0:return _context20.next=2,_this3.memoDashClient.getUsername(like.relation.userId);case 2:return like.relation.username=_context20.sent,_context20.abrupt("return",like);case 4:case"end":return _context20.stop()}},_callee20,this)}));return function(_x24){return _ref3.apply(this,arguments)}}()));case 5:return _context21.abrupt("return",_context21.sent);case 6:case"end":return _context21.stop()}},_callee21,this)}));return function(_x23){return _getUserLikes.apply(this,arguments)}}()},{key:"getUserFollowers",value:function(){var _getUserFollowers=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee22(username){return regenerator_default.a.wrap(function(_context22){for(;;)switch(_context22.prev=_context22.next){case 0:return _context22.next=2,this.memoDashClient.getUserFollowers(username);case 2:return _context22.abrupt("return",_context22.sent);case 3:case"end":return _context22.stop()}},_callee22,this)}));return function(_x25){return _getUserFollowers.apply(this,arguments)}}()},{key:"getUserFollowing",value:function(){var _getUserFollowing=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee23(username){return regenerator_default.a.wrap(function(_context23){for(;;)switch(_context23.prev=_context23.next){case 0:return _context23.next=2,this.memoDashClient.getUserFollowing(username);case 2:return _context23.abrupt("return",_context23.sent);case 3:case"end":return _context23.stop()}},_callee23,this)}));return function(_x26){return _getUserFollowing.apply(this,arguments)}}()},{key:"followUser",value:function(){var _followUser=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee24(username){return regenerator_default.a.wrap(function(_context24){for(;;)switch(_context24.prev=_context24.next){case 0:return _context24.next=2,this.memoDashClient.followUser(username);case 2:return _context24.abrupt("return",_context24.sent);case 3:case"end":return _context24.stop()}},_callee24,this)}));return function(_x27){return _followUser.apply(this,arguments)}}()},{key:"unFollowUser",value:function(){var _unFollowUser=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee25(username){return regenerator_default.a.wrap(function(_context25){for(;;)switch(_context25.prev=_context25.next){case 0:return _context25.next=2,this.memoDashClient.unFollowUser(username);case 2:return _context25.abrupt("return",_context25.sent);case 3:case"end":return _context25.stop()}},_callee25,this)}));return function(_x28){return _unFollowUser.apply(this,arguments)}}()}]),MemoDashLib}(),InitActionTypes_INIT_FINISHED="INIT_FINISHED",initFinished=function(memoDashLib){return{type:InitActionTypes_INIT_FINISHED,payload:memoDashLib}},MemoModalActionTypes_OPEN_MODAL="OPEN_MODAL",MemoModalActionTypes_CLOSE_MODAL="CLOSE_MODAL",openMemoModal=function(memo){return{type:MemoModalActionTypes_OPEN_MODAL,payload:memo}},closeMemoModal=function(){return{type:MemoModalActionTypes_CLOSE_MODAL}},root_reducer_initialState={memoDashLib:void 0},defineProperty=__webpack_require__(208),user_reducer_initialState={currentUser:void 0,memoIds:void 0,authError:void 0,users:void 0},user_reducer_getCurrentUser=function(state){return state.users[state.currentUser]},memo_modal_reducer_initialState={opened:!1,openedMemo:void 0},reducers=Object(redux.combineReducers)({root:function(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:root_reducer_initialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case InitActionTypes_INIT_FINISHED:return Object(objectSpread.a)({},state,{memoDashLib:action.payload});default:return state}},user:function(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:user_reducer_initialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case AuthActionTypes_LOGIN_ERROR:case AuthActionTypes_LOGOUT_ERROR:return Object(objectSpread.a)({},state,{authError:action.payload});case AuthActionTypes_LOGIN_SUCCESSFULL:return Object(objectSpread.a)({},state,{authError:void 0,currentUser:action.payload});case UserActionTypes_USER_RECEIVED:var users=Object(objectSpread.a)({},state.users),receivedUser=action.payload;return users[receivedUser.username]=Object(objectSpread.a)({},users[receivedUser.username],receivedUser),Object(objectSpread.a)({},state,{users:users});case UserActionTypes_USERS_RECEIVED:var _users=Object(objectSpread.a)({},state.users),receivedUsers=action.payload;return receivedUsers&&receivedUsers.forEach(function(receivedUser){return _users[receivedUser.username]=Object(objectSpread.a)({},_users[receivedUser.username],receivedUser)}),Object(objectSpread.a)({},state,{users:_users});case UserActionTypes_USER_UPDATED:var _users2=Object(objectSpread.a)({},state.users),_action$payload=action.payload,username=_action$payload.username,props=_action$payload.props;if(_users2[username]){var updatedUser=Object(objectSpread.a)({},_users2[username],props);return Object(objectSpread.a)({},state,{users:Object(objectSpread.a)({},state.users,Object(defineProperty.a)({},username,updatedUser))})}return state;case MemoActionTypes.LIKE_ADDED:var user=user_reducer_getCurrentUser(state);if(user){var likes=action.payload,_updatedUser=Object(objectSpread.a)({},user,{likes:likes,profile:Object(objectSpread.a)({},user.profile,{likesCount:likes.length})});return Object(objectSpread.a)({},state,{users:Object(objectSpread.a)({},state.users,Object(defineProperty.a)({},_updatedUser.username,_updatedUser))})}return state;case MemoActionTypes.LIKE_REMOVED:var _user=user_reducer_getCurrentUser(state);if(_user){var _likes=_user.likes.filter(function(like){return like.idx!==action.payload}),_updatedUser2=Object(objectSpread.a)({},_user,{likes:_likes,profile:Object(objectSpread.a)({},_user.profile,{likesCount:_likes.length})});return Object(objectSpread.a)({},state,{users:Object(objectSpread.a)({},state.users,Object(defineProperty.a)({},_updatedUser2.username,_updatedUser2))})}return state;case MemoActionTypes.MEMO_DELETED:var _user2=user_reducer_getCurrentUser(state);if(_user2){var _updatedUser3=Object(objectSpread.a)({},_user2,{memoIds:_user2.memoIds.filter(function(memoId){return memoId!==action.payload})});return Object(objectSpread.a)({},state,{users:Object(objectSpread.a)({},state.users,Object(defineProperty.a)({},_updatedUser3.username,_updatedUser3))})}return state;default:return state}},memo:function(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case MemoActionTypes.MEMO_UPDATED:var _action$payload=action.payload,username=_action$payload.username,idx=_action$payload.idx,combinedMemoId=combineMemoId(username,idx),memos=Object(objectSpread.a)({},state.memos);return memos[combinedMemoId]=Object(objectSpread.a)({},memos[combinedMemoId],action.payload),Object(objectSpread.a)({},state,{memos:memos});case MemoActionTypes.MEMOS_RECEIVED:var _memos=Object(objectSpread.a)({},state.memos),receivedMemos=action.payload;return receivedMemos?(receivedMemos.forEach(function(receivedMemo){return _memos[combineMemoId(receivedMemo.username,receivedMemo.idx)]=receivedMemo}),Object(objectSpread.a)({},state,{memos:_memos})):state;case MemoActionTypes.MEMO_REPLIES_RECEIVED:var _action$payload2=action.payload,_username=_action$payload2.username,memoId=_action$payload2.memoId,replies=_action$payload2.replies,replyIds=[],_memos2=Object(objectSpread.a)({},state.memos);if(replies){replies.forEach(function(reply){var combinedMemoId=combineMemoId(reply.username,reply.idx);_memos2[combinedMemoId]=Object(objectSpread.a)({},_memos2[combinedMemoId],reply),replyIds.push(combinedMemoId)});var memo=memo_selector_getMemoByCombinedId(combineMemoId(_username,memoId))({memo:state});return _memos2[combineMemoId(_username,memoId)]=Object(objectSpread.a)({},memo,{replyIds:replyIds}),Object(objectSpread.a)({},state,{memos:_memos2})}return state;case MemoActionTypes.MEMO_DELETED:var _memos3=Object(objectSpread.a)({},state.memos);return _memos3?(delete _memos3[action.payload],Object(objectSpread.a)({},state,{memos:_memos3})):state;default:return state}},memoModal:function(){var username,memoId,state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:memo_modal_reducer_initialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case MemoModalActionTypes_OPEN_MODAL:var memo=action.payload,combinedMemoId=(username=memo.username,memoId=memo.idx,"[".concat(username,"][").concat(memoId,"]"));return Object(objectSpread.a)({},state,{openedMemo:combinedMemoId,opened:!0});case MemoModalActionTypes_CLOSE_MODAL:return Object(objectSpread.a)({},state,{opened:!1});default:return state}}}),store_history=Object(history_es.a)({basename:"/memo-dash"}),middlewares=[Object(connected_react_router_lib.routerMiddleware)(store_history),redux_thunk_es.a,redux_logger_default.a],store_initialState={},store=Object(redux.createStore)(Object(connected_react_router_lib.connectRouter)(store_history)(function(state,action){return action.type===AuthActionTypes_LOGOUT_SUCCESSFULL&&(state=Object(objectSpread.a)({},store_initialState,{root:Object(objectSpread.a)({},state.root)})),reducers(state,action)}),store_initialState,Object(redux.compose)(Object(redux_devtools_extension.composeWithDevTools)(redux.applyMiddleware.apply(void 0,middlewares))));var possibleConstructorReturn=__webpack_require__(33),getPrototypeOf=__webpack_require__(32),inherits=__webpack_require__(34),withRouter=(__webpack_require__(1809),__webpack_require__(2027)),Switch=__webpack_require__(304),Route=__webpack_require__(202),Redirect=__webpack_require__(303),Menu=(__webpack_require__(370),__webpack_require__(2012)),Container=__webpack_require__(2022),Form=__webpack_require__(2028),Segment=__webpack_require__(2013),Header=__webpack_require__(2038),Responsive=__webpack_require__(2025),Button=__webpack_require__(2034),Message=__webpack_require__(2033),logo=__webpack_require__(439),logo_default=__webpack_require__.n(logo),logo_component=(__webpack_require__(1812),function(){return react_default.a.createElement("span",{className:"logo"},react_default.a.createElement("img",{src:logo_default.a,className:"logo__image",alt:"logo"}))}),login_view_component_LoginViewComponent=function(_Component){function LoginViewComponent(){var _this;return Object(classCallCheck.a)(this,LoginViewComponent),(_this=Object(possibleConstructorReturn.a)(this,Object(getPrototypeOf.a)(LoginViewComponent).call(this))).onChangeUsername=function(event,field){_this.setState({username:field.value})},_this.state={username:"alice"},_this}return Object(inherits.a)(LoginViewComponent,_Component),Object(createClass.a)(LoginViewComponent,[{key:"render",value:function(){var _this2=this;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(Menu.a,{fixed:"top",color:"blue",size:"tiny",borderless:!0,stackable:!0},react_default.a.createElement(Container.a,null,react_default.a.createElement(Menu.a.Item,{as:"a",header:!0},react_default.a.createElement(logo_component,null),react_default.a.createElement("div",{className:"active"},"MemoDash")))),react_default.a.createElement("div",{className:"login-form"},react_default.a.createElement(Form.a,{size:"large",onSubmit:function(){var _ref=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee(event){return regenerator_default.a.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:_this2.props.onLoginClick(_this2.state.username);case 1:case"end":return _context.stop()}},_callee,this)}));return function(_x){return _ref.apply(this,arguments)}}()},react_default.a.createElement(Segment.a,null,react_default.a.createElement(Header.a,{as:"h2",color:"blue"},react_default.a.createElement(Responsive.a,Responsive.a.onlyMobile,"Log-in"),react_default.a.createElement(Responsive.a,{minWidth:Responsive.a.onlyTablet.minWidth},"Log-in to your account")),react_default.a.createElement(Form.a.Input,{name:"username",placeholder:"Username",required:!0,value:this.state.username,onChange:this.onChangeUsername}),react_default.a.createElement("br",null),react_default.a.createElement(Button.a,{color:"blue",size:"large"},"Login"))),react_default.a.createElement(Message.a,{negative:!0,hidden:!this.props.authError},this.props.authError)))}}]),LoginViewComponent}(react.Component),login_view_container=Object(es.connect)(function(state){return{authError:state.user.authError}},function(dispatch){return{onLoginClick:function(username){var blockchainUsername;dispatch((blockchainUsername=username,function(){var _ref=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee(dispatch,getState){var _getState,memoDashLib,blockchainUser;return regenerator_default.a.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_getState=getState(),memoDashLib=_getState.root.memoDashLib){_context.next=4;break}return dispatch(loginError("MemoDashLib isnt initialized yet")),_context.abrupt("return");case 4:return _context.next=6,memoDashLib.searchBlockchainUsers(blockchainUsername);case 6:if((blockchainUser=_context.sent)&&0!==blockchainUser.length){_context.next=10;break}return dispatch(loginError("User ".concat(blockchainUsername," not found on blockchain"))),_context.abrupt("return");case 10:return blockchainUser=blockchainUser[0],_context.prev=11,_context.next=14,memoDashLib.login({blockchainUsername:blockchainUser.name});case 14:return _context.next=16,dispatch(loginSuccessfull(blockchainUser.name));case 16:return _context.next=18,dispatch(user_actions_getUser(blockchainUser.name));case 18:return _context.next=20,dispatch(memo_actions_getMemosForUser(blockchainUser.name));case 20:dispatch(Object(connected_react_router_lib.push)("/home")),_context.next=26;break;case 23:_context.prev=23,_context.t0=_context.catch(11),dispatch(loginError(_context.t0.message));case 26:case"end":return _context.stop()}},_callee,this,[[11,23]])}));return function(_x,_x2){return _ref.apply(this,arguments)}}()))}}})(login_view_component_LoginViewComponent),Comment=(__webpack_require__(1920),__webpack_require__(2030)),Icon=__webpack_require__(433),formik_esm=__webpack_require__(212),yup_lib=__webpack_require__(204),Label=__webpack_require__(432),textarea_with_char_counter_component_TextAreaWithCharCounter=(__webpack_require__(1965),function(_Component){function TextAreaWithCharCounter(){return Object(classCallCheck.a)(this,TextAreaWithCharCounter),Object(possibleConstructorReturn.a)(this,Object(getPrototypeOf.a)(TextAreaWithCharCounter).apply(this,arguments))}return Object(inherits.a)(TextAreaWithCharCounter,_Component),Object(createClass.a)(TextAreaWithCharCounter,[{key:"render",value:function(){var _this$props=this.props,value=_this$props.value,maxLength=_this$props.maxLength;return react_default.a.createElement("div",{className:"text-area-with-char-counter"},maxLength?react_default.a.createElement(Label.a,{attached:"bottom right"},value?value.length:0,"/",maxLength):null,react_default.a.createElement(Form.a.TextArea,this.props))}}]),TextAreaWithCharCounter}(react.Component)),memo_form_component=(__webpack_require__(1967),function(props){var values=props.values,touched=props.touched,errors=props.errors,isSubmitting=props.isSubmitting,handleBlur=props.handleBlur,handleSubmit=props.handleSubmit,handleChange=props.handleChange,onCanceled=props.onCanceled,buttonLabel=props.buttonLabel;return react_default.a.createElement(Form.a,{reply:!0,onSubmit:handleSubmit,onClick:function(e){return e.stopPropagation()},className:"memo-form"},react_default.a.createElement(textarea_with_char_counter_component_TextAreaWithCharCounter,{autoFocus:!0,autoHeight:!0,name:"message",value:values.message,onChange:handleChange,onBlur:handleBlur,onClick:function(e){return e.stopPropagation()},className:errors.message&&touched.message?" error":"",disabled:isSubmitting,maxLength:"144"}),react_default.a.createElement(Button.a,{type:"submit",size:"mini",content:buttonLabel,primary:!0,disabled:isSubmitting||!!errors.message||!values.message}),react_default.a.createElement(Button.a,{type:"reset",size:"mini",content:"Cancel",onClick:onCanceled}))}),validationSchema=yup_lib.object().shape({message:yup_lib.string().min(1).max(144).required("Text is required!")}),memo_form_container=Object(formik_esm.a)({mapPropsToValues:function(_ref){var username=_ref.username,memoId=_ref.memoId;return{message:_ref.message,username:username,memoId:memoId,onCanceled:_ref.onCanceled}},validationSchema:validationSchema,handleSubmit:function(_ref2,_ref3){var username=_ref2.username,memoId=_ref2.memoId,message=_ref2.message;_ref3.setSubmitting;(0,_ref3.props.onSubmitted)(username,memoId,message)}})(memo_form_component),DashIcon=function(props){return react_default.a.createElement("span",{style:{position:"relative",top:"1.35px",marginRight:"0.45rem"}},react_default.a.createElement("svg",{width:"14.499999999999998",height:"14.499999999999998",xmlns:"http://www.w3.org/2000/svg"},react_default.a.createElement("metadata",{id:"metadata8"},"image/svg+xml"),react_default.a.createElement("defs",null,react_default.a.createElement("clipPath",{id:"clipPath18",clipPathUnits:"userSpaceOnUse"},react_default.a.createElement("path",{id:"path16",d:"m-24.77432,8.07543l275.05,0l0,269.777l-275.05,0l0,-269.777z"}))),react_default.a.createElement("g",null,react_default.a.createElement("title",null,"background"),react_default.a.createElement("rect",{x:"-1",y:"-1",width:"16.5",height:"16.5",id:"canvas_background",fill:"none"})),react_default.a.createElement("g",null,react_default.a.createElement("title",null,"Layer 1"),react_default.a.createElement("g",{transform:"matrix(0.06265153892937515,0,0,-0.06265153892937515,0.2511899485023454,16.203068254625684) ","clip-path":"url(#clipPath18)",id:"g14"},react_default.a.createElement("g",{id:"g20"},react_default.a.createElement("path",{id:"path22",d:"m226.94551,142.63846c0,-63.563 -51.527,-115.091 -115.092,-115.091c-63.562,0 -115.091,51.528 -115.091,115.091c0,63.563 51.529,115.091 115.091,115.091c63.565,0 115.092,-51.528 115.092,-115.091","fill-rule":"nonzero",fill:"#787878"})),react_default.a.createElement("g",{id:"g24"},react_default.a.createElement("path",{id:"path26",d:"m131.16432,195.40745l-47.376,0l-3.926,-21.943l42.751,-0.054c21.057,0.008 27.28,-7.643 27.103,-20.324c-0.091,-6.5 -2.909,-17.491 -4.127,-21.054c-3.244,-9.495 -9.906,-20.329 -34.9,-20.29l-41.557,0.018l-3.934,-21.965l47.271,0c16.673,0 23.759,1.94 31.274,5.41c16.648,7.689 26.554,24.119 30.522,45.561c5.909,31.928 -1.453,54.641 -43.101,54.641","fill-rule":"nonzero",fill:"#ffffff"})),react_default.a.createElement("g",{id:"g28"},react_default.a.createElement("path",{id:"path30",d:"m63.34541,153.62085c-12.411,0 -14.188,-8.086 -15.363,-12.974c-1.538,-6.399 -2.043,-8.991 -2.043,-8.991l48.509,0c12.411,0 14.188,8.087 15.363,12.974c1.538,6.399 2.043,8.991 2.043,8.991l-48.509,0z","fill-rule":"nonzero",fill:"#ffffff"}))))))},memo_actions_component=function(_Component){function MemoComponent(props){var _this;return Object(classCallCheck.a)(this,MemoComponent),(_this=Object(possibleConstructorReturn.a)(this,Object(getPrototypeOf.a)(MemoComponent).call(this,props))).reply=function(e){e.stopPropagation(),_this.setState({replyingToMemo:!0})},_this.likeMemo=function(e){e.stopPropagation();var _this$props=_this.props,likedByCurrentUser=_this$props.likedByCurrentUser,isMemoOfCurrentUser=_this$props.isMemoOfCurrentUser,memo=_this$props.memo,onRemoveLikeClicked=_this$props.onRemoveLikeClicked,onLikeMemoClicked=_this$props.onLikeMemoClicked;isMemoOfCurrentUser||(likedByCurrentUser?onRemoveLikeClicked(memo.username,memo.idx):onLikeMemoClicked(memo.username,memo.idx))},_this.openModal=function(e){_this.setState({modalOpened:!0})},_this.onReplySubmitted=function(username,memoId,message){_this.props.onReplyClicked(username,memoId,message),_this.setState({replyingToMemo:!1})},_this.onReplyCanceled=function(){_this.setState({replyingToMemo:!1})},_this.state={replyingToMemo:!1,modalOpened:!1},_this}return Object(inherits.a)(MemoComponent,_Component),Object(createClass.a)(MemoComponent,[{key:"render",value:function(){var _this$props2=this.props,memo=_this$props2.memo,likedByCurrentUser=_this$props2.likedByCurrentUser,isMemoOfCurrentUser=_this$props2.isMemoOfCurrentUser;if(!memo)return null;var replyingToMemo=this.state.replyingToMemo;return react_default.a.createElement(react.Fragment,null,react_default.a.createElement(Comment.a.Actions,null,isMemoOfCurrentUser?react_default.a.createElement(Comment.a.Action,{as:"span",name:"replyAction"},react_default.a.createElement(Icon.a,{name:"reply"}),react_default.a.createElement("span",null,memo.memoRepliesCount)):react_default.a.createElement(Comment.a.Action,{as:"a",name:"replyAction",onClick:this.reply},react_default.a.createElement(Icon.a,{name:"reply"}),react_default.a.createElement("span",null,memo.memoRepliesCount)),react_default.a.createElement(Comment.a.Action,{name:"likeAction",as:isMemoOfCurrentUser?"span":"a",onClick:this.likeMemo},react_default.a.createElement(Icon.a,{name:"like",color:likedByCurrentUser?"red":""}),react_default.a.createElement("span",null,memo.memoLikesCount)),react_default.a.createElement(Comment.a.Action,{name:"tipAction",onClick:function(e){return e.stopPropagation()}},react_default.a.createElement(DashIcon,{color:"white",backgroundColor:"gray"}),react_default.a.createElement("span",null,memo.memoTipTotal))),replyingToMemo?react_default.a.createElement(memo_form_container,{memoId:memo.idx,username:memo.username,onSubmitted:this.onReplySubmitted,onCanceled:this.onReplyCanceled,buttonLabel:"Add Reply"}):"")}}]),MemoComponent}(react.Component),memo_actions_container=Object(es.connect)(function(state,ownProps){return ownProps.memo?{likedByCurrentUser:function(memo){return Object(reselect_es.a)([getCurrentUser],function(currentUser){return!(!currentUser||!currentUser.likes||memo.username===currentUser.username)&&currentUser.likes.some(function(like){return like.relation.username===memo.username&&like.relation.index===memo.idx})})}(ownProps.memo)(state),isMemoOfCurrentUser:memo_selector_isMemoOfCurrentUser(ownProps.memo)(state)}:{}},function(dispatch){return{onLikeMemoClicked:function(username,memoId){dispatch(function(username,memoId){return function(){var _ref3=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee3(dispatch,getState){var lib,currentUsername,likes,memo;return regenerator_default.a.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return lib=getMemoDashLib(getState()),_context3.next=3,lib.likeMemo(username,memoId);case 3:return currentUsername=getCurrentUsername(getState()),_context3.next=6,lib.getUserLikes(currentUsername);case 6:return likes=_context3.sent,_context3.next=9,dispatch(likeAdded(likes));case 9:return _context3.next=11,lib.getMemo(username,memoId);case 11:memo=_context3.sent,dispatch(memoUpdated(memo));case 13:case"end":return _context3.stop()}},_callee3,this)}));return function(_x5,_x6){return _ref3.apply(this,arguments)}}()}(username,memoId))},onRemoveLikeClicked:function(username,memoId){dispatch(function(username,memoId){return function(){var _ref4=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee4(dispatch,getState){var lib,currentUser,like,memo;return regenerator_default.a.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(lib=getMemoDashLib(getState()),!(currentUser=getCurrentUser(getState()))){_context4.next=13;break}if(!(like=currentUser.likes.find(function(like){return like.relation.index===memoId}))){_context4.next=13;break}return _context4.next=7,lib.removeLike(like.idx);case 7:return _context4.next=9,dispatch(likeRemoved(like.idx));case 9:return _context4.next=11,lib.getMemo(username,memoId);case 11:memo=_context4.sent,dispatch(memoUpdated(memo));case 13:case"end":return _context4.stop()}},_callee4,this)}));return function(_x7,_x8){return _ref4.apply(this,arguments)}}()}(username,memoId))},onReplyClicked:function(username,memoId,message){dispatch(function(username,memoId,message){return function(){var _ref5=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee5(dispatch,getState){var lib,memo,currentUsername;return regenerator_default.a.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return lib=getMemoDashLib(getState()),_context5.next=3,lib.replyToMemo(username,memoId,message);case 3:return _context5.next=5,lib.getMemo(username,memoId);case 5:memo=_context5.sent,dispatch(memoUpdated(memo)),dispatch(memo_actions_getMemoReplies(username,memoId)),currentUsername=getCurrentUsername(getState()),dispatch(memo_actions_getMemosForUser(currentUsername));case 10:case"end":return _context5.stop()}},_callee5,this)}));return function(_x9,_x10){return _ref5.apply(this,arguments)}}()}(username,memoId,message))}}})(memo_actions_component),memo_avatar_component=function(props){var isMemoOfCurrentUser=props.isMemoOfCurrentUser,memo=props.memo,avatarUrl=props.avatarUrl,onGoToProfileClicked=props.onGoToProfileClicked;return memo?react_default.a.createElement(react.Fragment,null,isMemoOfCurrentUser?react_default.a.createElement(Comment.a.Avatar,{className:"avatar",src:avatarUrl}):react_default.a.createElement(Comment.a.Avatar,{as:"a",src:avatarUrl,onClick:function(e){return onGoToProfileClicked(e,memo.username)}})):null},memo_avatar_container=Object(es.connect)(function(state,ownProps){var username,memo=ownProps.memo;return memo?{isMemoOfCurrentUser:memo_selector_isMemoOfCurrentUser(memo)(state),avatarUrl:(username=memo.username,Object(reselect_es.a)([user_selector_getUsers],function(users){var user=users[username];return user&&user.profile?user.profile.avatarUrl:void 0}))(state)}:{}},function(dispatch){return{onGoToProfileClicked:function(e,username){e.stopPropagation(),dispatch(Object(connected_react_router_lib.push)("/profile/".concat(username)))}}})(memo_avatar_component),dayjs_min=__webpack_require__(292),dayjs_min_default=__webpack_require__.n(dayjs_min),relativeTime=__webpack_require__(452),relativeTime_default=__webpack_require__.n(relativeTime);dayjs_min_default.a.extend(relativeTime_default.a);var memo_content_component=function(_Component){function MemoComponent(){var _getPrototypeOf2,_this;Object(classCallCheck.a)(this,MemoComponent);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=Object(possibleConstructorReturn.a)(this,(_getPrototypeOf2=Object(getPrototypeOf.a)(MemoComponent)).call.apply(_getPrototypeOf2,[this].concat(args)))).state={replyingToMemo:!1,modalOpened:!1,editing:!1},_this.goToProfile=function(e){e.stopPropagation();var _this$props=_this.props,memo=_this$props.memo;(0,_this$props.onGoToProfileClicked)(memo.username)},_this.edit=function(e){e.stopPropagation(),_this.setState({editing:!0})},_this.onEditSubmitted=function(username,memoId,message){_this.props.onEditClicked(username,memoId,message),_this.setState({editing:!1})},_this.onEditCanceled=function(){_this.setState({editing:!1})},_this}return Object(inherits.a)(MemoComponent,_Component),Object(createClass.a)(MemoComponent,[{key:"render",value:function(){var _this$props2=this.props,memo=_this$props2.memo,showEdit=_this$props2.showEdit,editing=this.state.editing;return memo?react_default.a.createElement(Comment.a.Content,null,showEdit?react_default.a.createElement(Button.a,{as:"div",className:"edit-button",labelPosition:"right",size:"mini",floated:"right",onClick:this.edit},react_default.a.createElement(Button.a,{basic:!0},react_default.a.createElement(Icon.a,{name:"pencil"}),"Edit")):null,react_default.a.createElement(Comment.a.Author,{as:"a",onClick:this.goToProfile},memo.username),react_default.a.createElement(Comment.a.Metadata,null,react_default.a.createElement("span",null,"posted ",dayjs_min_default()(memo.memoDatetime).from())),editing?react_default.a.createElement(memo_form_container,{memoId:memo.idx,username:memo.username,buttonLabel:"Update Memo",message:memo.memoText,onSubmitted:this.onEditSubmitted,onCanceled:this.onEditCanceled}):react_default.a.createElement(Comment.a.Text,null,memo.memoText)):null}}]),MemoComponent}(react.Component),memo_content_container=Object(es.connect)(function(state,ownProps){var memo=ownProps.memo;return{currentUser:getCurrentUser(state),showEdit:memo_selector_isMemoOfCurrentUser(memo)(state)}},function(dispatch){return{onGoToProfileClicked:function(username){dispatch(Object(connected_react_router_lib.push)("/profile/".concat(username)))},onEditClicked:function(username,memoId,message){dispatch(function(username,memoId,message){return function(){var _ref9=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee9(dispatch,getState){var lib,memo;return regenerator_default.a.wrap(function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return lib=getMemoDashLib(getState()),_context9.next=3,lib.editMemo(memoId,message);case 3:return _context9.next=5,lib.getMemo(username,memoId);case 5:memo=_context9.sent,dispatch(memoUpdated(memo));case 7:case"end":return _context9.stop()}},_callee9,this)}));return function(_x17,_x18){return _ref9.apply(this,arguments)}}()}(username,memoId,message))}}})(memo_content_component),Modal=(__webpack_require__(1969),__webpack_require__(2029)),memo_delete_component_MemoDeleteComponent=function(_Component){function MemoDeleteComponent(){var _getPrototypeOf2,_this;Object(classCallCheck.a)(this,MemoDeleteComponent);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=Object(possibleConstructorReturn.a)(this,(_getPrototypeOf2=Object(getPrototypeOf.a)(MemoDeleteComponent)).call.apply(_getPrototypeOf2,[this].concat(args)))).state={opened:!1},_this.show=function(e){e.stopPropagation(),_this.setState({opened:!0})},_this.close=function(e){e.stopPropagation(),_this.setState({opened:!1})},_this.delete=function(e){e.stopPropagation();var _this$props=_this.props,memo=_this$props.memo;(0,_this$props.onDeleteMemoClicked)(memo),_this.close(e)},_this}return Object(inherits.a)(MemoDeleteComponent,_Component),Object(createClass.a)(MemoDeleteComponent,[{key:"render",value:function(){var _this2=this,opened=this.state.opened;return react_default.a.createElement(react.Fragment,null,react_default.a.createElement(Button.a,{as:"div",labelPosition:"right",size:"mini",floated:"right",onClick:this.show},react_default.a.createElement(Button.a,{basic:!0},react_default.a.createElement(Icon.a,{name:"trash"}),"Delete")),opened?react_default.a.createElement(Modal.a,{size:"mini",open:opened,onClose:function(e){return _this2.close(e)}},react_default.a.createElement(Modal.a.Header,null,"Delete Memo"),react_default.a.createElement(Modal.a.Content,null,react_default.a.createElement("p",null,"Are you sure you want to delete the memo")),react_default.a.createElement(Modal.a.Actions,null,react_default.a.createElement(Button.a,{negative:!0,onClick:function(e){return _this2.close(e)}},"No"),react_default.a.createElement(Button.a,{positive:!0,icon:"checkmark",labelPosition:"right",content:"Yes",onClick:function(e){return _this2.delete(e)}}))):null)}}]),MemoDeleteComponent}(react.Component),memo_delete_container=Object(es.connect)(function(state,ownProps){return{}},function(dispatch){return{onDeleteMemoClicked:function(memo){var username,memoId;dispatch((username=memo.username,memoId=memo.idx,function(){var _ref8=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee8(dispatch,getState){var lib;return regenerator_default.a.wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return lib=getMemoDashLib(getState()),_context8.next=3,lib.deleteMemo(memoId);case 3:dispatch(memoDeleted(combineMemoId(username,memoId)));case 4:case"end":return _context8.stop()}},_callee8,this)}));return function(_x15,_x16){return _ref8.apply(this,arguments)}}()))}}})(memo_delete_component_MemoDeleteComponent),memo_component_MemoComponent=function(_Component){function MemoComponent(){return Object(classCallCheck.a)(this,MemoComponent),Object(possibleConstructorReturn.a)(this,Object(getPrototypeOf.a)(MemoComponent).apply(this,arguments))}return Object(inherits.a)(MemoComponent,_Component),Object(createClass.a)(MemoComponent,[{key:"componentDidMount",value:function(){var _this$props=this.props,memo=_this$props.memo,showReplies=_this$props.showReplies,onLoadReplies=_this$props.onLoadReplies;showReplies&&memo.memoRepliesCount>0&&onLoadReplies(memo)}},{key:"componentWillReceiveProps",value:function(nextProps){var memo=nextProps.memo,closeModal=nextProps.closeModal;memo||closeModal()}},{key:"render",value:function(){var _this$props2=this.props,memo=_this$props2.memo,showReplies=_this$props2.showReplies,showDelete=_this$props2.showDelete,showBorders=_this$props2.showBorders,replies=_this$props2.replies,memoNotAvailable=_this$props2.memoNotAvailable,openModalOnClick=_this$props2.openModalOnClick,onModalOpenClicked=_this$props2.onModalOpenClicked;return react_default.a.createElement(Segment.a,{basic:!showBorders,className:"memo",onClick:openModalOnClick&&!memoNotAvailable?function(){return onModalOpenClicked(memo)}:void 0,padded:!0},memoNotAvailable?react_default.a.createElement(Comment.a,null,react_default.a.createElement(Comment.a.Content,null,"Liked memo is no longer available")):react_default.a.createElement(Comment.a,null,react_default.a.createElement(memo_avatar_container,{memo:memo}),react_default.a.createElement(Comment.a.Content,null,showDelete?react_default.a.createElement(memo_delete_container,{memo:memo}):null,react_default.a.createElement(memo_content_container,{memo:memo}),react_default.a.createElement(memo_actions_container,{memo:memo})),showReplies&&!!replies&&react_default.a.createElement(Comment.a.Group,null,replies.map(function(reply){return react_default.a.createElement(memo_container,{showReplies:!0,memo:reply,key:reply.idx})}))))}}]),MemoComponent}(react.Component),memo_container=Object(es.connect)(function(state,ownProps){var memo=ownProps.memo,showReplies=ownProps.showReplies;if(!memo)return{memoNotAvailable:!0};var replies=void 0;return showReplies&&(replies=memo_selector_getMemosByCombinedIds(memo.replyIds)(state)),{replies:replies,showDelete:memo_selector_isMemoOfCurrentUser(memo)(state)}},function(dispatch){return{onModalOpenClicked:function(memo){return dispatch(openMemoModal(memo))},closeModal:function(){return dispatch(closeMemoModal())},onLoadReplies:function(memo){return dispatch(memo_actions_getMemoReplies(memo.username,memo.idx))}}})(memo_component_MemoComponent),memo_modal_component=(__webpack_require__(2e3),function(props){var memo=props.memo,opened=props.opened,onModalCloseClicked=props.onModalCloseClicked;return opened?react_default.a.createElement(Segment.a,{className:"memo"},react_default.a.createElement(Comment.a.Group,{threaded:!0},react_default.a.createElement(Modal.a,{open:opened,onClose:onModalCloseClicked,closeIcon:!0,className:"memo-modal",size:"small"},react_default.a.createElement(Modal.a.Content,{scrolling:!0},react_default.a.createElement(Comment.a.Group,null,react_default.a.createElement(memo_container,{showReplies:!0,memo:memo})))))):null}),memo_modal_container=Object(es.connect)(function(state){return{opened:function(state){return Boolean(state.memoModal.opened)}(state),memo:getOpenedMemo(state)}},function(dispatch){return{onModalCloseClicked:function(){return dispatch(closeMemoModal())}}})(memo_modal_component),memos_component=function(props){var memos=props.memos;return react_default.a.createElement(Segment.a,{basic:!0,center:!0},memos?react_default.a.createElement(Comment.a.Group,null,Object.keys(memos).sort(function(a,b){return a.memoDatetime<b.memoDatetime}).map(function(memoId){return react_default.a.createElement(memo_container,{key:memoId,showBorders:!0,openModalOnClick:!0,showReplies:!1,memo:memos[memoId]})}),react_default.a.createElement(memo_modal_container,null)):"No memos available")},memos_container=Object(es.connect)(function(state,ownProps){return{}},function(dispatch){return{}})(memos_component),post_memo_component=(__webpack_require__(2002),function(props){var values=props.values,touched=props.touched,errors=props.errors,isSubmitting=props.isSubmitting,handleBlur=props.handleBlur,handleSubmit=props.handleSubmit,handleChange=props.handleChange;return react_default.a.createElement(Segment.a,{className:"post-memo"},react_default.a.createElement(Form.a,{onSubmit:handleSubmit},react_default.a.createElement("div",null,react_default.a.createElement(textarea_with_char_counter_component_TextAreaWithCharCounter,{key:"message",autoHeight:!0,placeholder:"Your Message",style:{minHeight:20,height:"100%"},maxLength:144,name:"message",value:values.message,onChange:handleChange,onBlur:handleBlur,className:errors.message&&touched.message?" error":"",disabled:isSubmitting}),react_default.a.createElement(Button.a,{type:"submit",content:"Post Memo",primary:!0,disabled:isSubmitting||!!errors.message||!values.message}))))}),post_memo_container_validationSchema=yup_lib.object().shape({message:yup_lib.string().min(1).max(144).required("Text is required!")}),post_memo_container_handleSubmit=function(){var _ref3=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee(_ref,_ref2){var message,props,resetForm;return regenerator_default.a.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:message=_ref.message,props=_ref2.props,resetForm=_ref2.resetForm,props.onMemoSubmitted(message),resetForm();case 4:case"end":return _context.stop()}},_callee,this)}));return function(_x,_x2){return _ref3.apply(this,arguments)}}(),post_memo_container=Object(es.connect)(function(state){return{}},function(dispatch){return{onMemoSubmitted:function(message){return dispatch(function(message){return function(){var _ref7=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee7(dispatch,getState){var lib;return regenerator_default.a.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return lib=getMemoDashLib(getState()),_context7.next=3,lib.postMemo(message);case 3:dispatch(memo_actions_getMemos());case 4:case"end":return _context7.stop()}},_callee7,this)}));return function(_x13,_x14){return _ref7.apply(this,arguments)}}()}(message))}}})(Object(formik_esm.a)({mapPropsToValues:function(){return{message:""}},validationSchema:post_memo_container_validationSchema,handleSubmit:post_memo_container_handleSubmit})(post_memo_component)),home_view_component=function(_Component){function HomeViewComponent(){return Object(classCallCheck.a)(this,HomeViewComponent),Object(possibleConstructorReturn.a)(this,Object(getPrototypeOf.a)(HomeViewComponent).apply(this,arguments))}return Object(inherits.a)(HomeViewComponent,_Component),Object(createClass.a)(HomeViewComponent,[{key:"componentDidMount",value:function(){this.props.getMemos()}},{key:"render",value:function(){return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(Container.a,{text:!0,style:{paddingTop:"7em"}},react_default.a.createElement(post_memo_container,null),react_default.a.createElement(memos_container,{memos:this.props.memos})))}}]),HomeViewComponent}(react.Component),home_view_container=Object(es.connect)(function(state){return{memos:memo_selector_getMemos(state)}},function(dispatch){return{getMemos:function(){dispatch(memo_actions_getMemos())}}})(home_view_component),Dimmer=__webpack_require__(2036),Loader=__webpack_require__(2026),Grid=__webpack_require__(2014),Card=__webpack_require__(2032),Image=__webpack_require__(2015),follow_button_component=function(props){if(props.isProfileOfCurrentUser)return null;var userProfile=props.userProfile,following=props.following,onFollowClicked=props.onFollowClicked,onUnFollowClicked=props.onUnFollowClicked;return react_default.a.createElement(react_default.a.Fragment,null,following?react_default.a.createElement(Button.a,{animated:"fade",color:"blue",floated:"right",size:"mini",onClick:function(e){return onUnFollowClicked(e,userProfile.username)}},react_default.a.createElement(Button.a.Content,{visible:!0},"Following"),react_default.a.createElement(Button.a.Content,{hidden:!0},"Unfollow")):react_default.a.createElement(Button.a,{basic:!0,color:"blue",floated:"right",size:"mini",onClick:function(e){return onFollowClicked(e,userProfile.username)}},"Follow"))},follow_button_container=Object(es.connect)(function(state,ownProps){var username,userProfile=ownProps.userProfile;return{following:(username=userProfile.username,Object(reselect_es.a)([getCurrentUser],function(currentUser){return currentUser.following?currentUser.following.some(function(following){return following===username}):void 0}))(state),isProfileOfCurrentUser:user_selector_isProfileOfCurrentUser(userProfile)(state)}},function(dispatch){return{onFollowClicked:function(e,username){e.stopPropagation(),dispatch(function(username){return function(){var _ref4=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee4(dispatch,getState){return regenerator_default.a.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,getMemoDashLib(getState()).followUser(username);case 2:dispatch(user_actions_getUsers([username,getCurrentUsername(getState())]));case 3:case"end":return _context4.stop()}},_callee4,this)}));return function(_x7,_x8){return _ref4.apply(this,arguments)}}()}(username))},onUnFollowClicked:function(e,username){e.stopPropagation(),dispatch(function(username){return function(){var _ref5=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee5(dispatch,getState){return regenerator_default.a.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,getMemoDashLib(getState()).unFollowUser(username);case 2:dispatch(user_actions_getUsers([username,getCurrentUsername(getState())]));case 3:case"end":return _context5.stop()}},_callee5,this)}));return function(_x9,_x10){return _ref5.apply(this,arguments)}}()}(username))}}})(follow_button_component),profile_info_component=function(props){var profile=props.profile,ownProfile=props.ownProfile,onEditClicked=props.onEditClicked;return react_default.a.createElement(Card.a,null,react_default.a.createElement(Image.a,{src:profile.avatarUrl,size:"medium"}),react_default.a.createElement(Card.a.Content,null,react_default.a.createElement(Card.a.Header,null,profile.username,ownProfile?react_default.a.createElement(Button.a,{icon:"edit",size:"mini",floated:"right",basic:!0,onClick:onEditClicked}):react_default.a.createElement(follow_button_container,{userProfile:profile})),react_default.a.createElement(Card.a.Description,null,profile.bio)))},Tab=__webpack_require__(2039),profile_overview_component=function(props){var userProfile=props.userProfile;if(!userProfile)return null;var onGoToProfileClicked=props.onGoToProfileClicked;return react_default.a.createElement(Card.a,{link:!0,as:"div",onClick:function(){return onGoToProfileClicked(userProfile.username)}},react_default.a.createElement(Image.a,{fluid:!0,src:userProfile.avatarUrl}),react_default.a.createElement(Card.a.Content,null,react_default.a.createElement(Card.a.Header,null,userProfile.username,react_default.a.createElement(follow_button_container,{userProfile:userProfile})),react_default.a.createElement(Card.a.Description,null,userProfile.bio)),react_default.a.createElement(Card.a.Content,{extra:!0},react_default.a.createElement(Label.a,null,"Followers",react_default.a.createElement(Label.a.Detail,null,userProfile.followersCount)),react_default.a.createElement(Label.a,null,"Following",react_default.a.createElement(Label.a.Detail,null,userProfile.followingCount))))},profile_overview_container=Object(es.connect)(function(state,ownProps){return{}},function(dispatch){return{onGoToProfileClicked:function(username){dispatch(Object(connected_react_router_lib.push)("/profile/".concat(username)))}}})(profile_overview_component),profile_overviews_component=function(props){var actualUsername=props.actualUsername,userProfiles=props.userProfiles,itemsPerRow=props.itemsPerRow;return react_default.a.createElement(react.Fragment,null,userProfiles?react_default.a.createElement(Card.a.Group,{itemsPerRow:itemsPerRow||3},Object.values(userProfiles).map(function(userProfile){return react_default.a.createElement(profile_overview_container,{key:userProfile.username,actualUsername:actualUsername,userProfile:userProfile})})):"No profiles available")},TABS={MEMOS:0,FOLLOWERS:1,FOLLOWING:2,LIKED_MEMOS:3},PATHS_MEMOS="memos",PATHS_FOLLOWERS="followers",PATHS_FOLLOWING="following",PATHS_LIKED_MEMOS="likedMemos",mapPathnameToTab=function(pathname){switch(pathname){case PATHS_MEMOS:return TABS.MEMOS;case PATHS_FOLLOWERS:return TABS.FOLLOWERS;case PATHS_FOLLOWING:return TABS.FOLLOWING;case PATHS_LIKED_MEMOS:return TABS.LIKED_MEMOS;default:return TABS.MEMOS}},profile_content_component=function(_Component){function ProfileContentComponent(){var _getPrototypeOf2,_this;Object(classCallCheck.a)(this,ProfileContentComponent);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=Object(possibleConstructorReturn.a)(this,(_getPrototypeOf2=Object(getPrototypeOf.a)(ProfileContentComponent)).call.apply(_getPrototypeOf2,[this].concat(args)))).renderMemos=function(memos){return react_default.a.createElement(Tab.a.Pane,{loading:!memos},react_default.a.createElement(Container.a,null,react_default.a.createElement(memos_container,{memos:memos})))},_this.renderFollowers=function(followers){return react_default.a.createElement(Tab.a.Pane,{loading:!followers},followers&&followers.length>0?react_default.a.createElement(profile_overviews_component,{actualUsername:_this.props.username,userProfiles:followers.map(function(user){return user.profile})}):react_default.a.createElement(react.Fragment,null,"You have no followers"))},_this.renderFollowing=function(following){return react_default.a.createElement(Tab.a.Pane,null,following&&following.length>0?react_default.a.createElement(profile_overviews_component,{actualUsername:_this.props.username,userProfiles:following.map(function(user){return user.profile})}):react_default.a.createElement(react.Fragment,null,"You do not follow anyone"))},_this.renderLikedMemos=function(likedMemos){return react_default.a.createElement(Tab.a.Pane,null,likedMemos&&Object.values(likedMemos).length>0?react_default.a.createElement(memos_component,{memos:likedMemos}):react_default.a.createElement(react.Fragment,null,"You have not liked anyone yet"))},_this.onTabChange=function(event,data){var _this$props=_this.props,memos=_this$props.memos,followers=_this$props.followers,following=_this$props.following,likedMemos=_this$props.likedMemos,username=_this$props.username,onMemosClicked=_this$props.onMemosClicked,onFollowersClicked=_this$props.onFollowersClicked,onFollowingClicked=_this$props.onFollowingClicked,onLikedMemosClicked=_this$props.onLikedMemosClicked;switch(data.activeIndex){case TABS.MEMOS:onMemosClicked(memos,username);break;case TABS.FOLLOWERS:onFollowersClicked(followers,username);break;case TABS.FOLLOWING:onFollowingClicked(following,username);break;case TABS.LIKED_MEMOS:onLikedMemosClicked(likedMemos,username)}},_this}return Object(inherits.a)(ProfileContentComponent,_Component),Object(createClass.a)(ProfileContentComponent,[{key:"componentDidMount",value:function(){var pathname=this.props.pathname;this.onTabChange(void 0,{activeIndex:mapPathnameToTab(pathname)})}},{key:"componentDidUpdate",value:function(prevProps){var _this$props2=this.props,username=_this$props2.username,pathname=_this$props2.pathname;username!==prevProps.username&&this.onTabChange(void 0,{activeIndex:mapPathnameToTab(pathname)})}},{key:"render",value:function(){var _this2=this,_this$props3=this.props,profile=_this$props3.profile,memos=_this$props3.memos,followers=_this$props3.followers,following=_this$props3.following,likedMemos=_this$props3.likedMemos,pathname=_this$props3.pathname;return react_default.a.createElement(react.Fragment,null,profile?react_default.a.createElement(Tab.a,{menu:{secondary:!0,pointing:!0},onTabChange:this.onTabChange,panes:[{active:pathname===PATHS_MEMOS,menuItem:"Memos".concat(memos?" (".concat(memos.length,")"):""),render:function(){return _this2.renderMemos(memos)}},{active:pathname===PATHS_FOLLOWERS,menuItem:"Followers (".concat(profile.followersCount,")"),render:function(){return _this2.renderFollowers(followers)}},{active:pathname===PATHS_FOLLOWING,menuItem:"Following (".concat(profile.followingCount,")"),render:function(){return _this2.renderFollowing(following)}},{active:pathname===PATHS_LIKED_MEMOS,menuItem:"Likes (".concat(profile.likesCount,")"),render:function(){return _this2.renderLikedMemos(likedMemos)}}]}):null)}}]),ProfileContentComponent}(react.Component),profile_content_container=Object(es.connect)(function(state,ownProps){var username=ownProps.profile.username;return{username:username,memos:function(username){return Object(reselect_es.a)([user_selector_getUserByUsername(username),memo_selector_getMemos],function(user,memos){return user&&user.memoIds?user.memoIds.map(function(memoId){return memos[memoId]}):void 0})}(username)(state),followers:user_selector_getUserFollowers(username)(state),following:user_selector_getUserFollowing(username)(state),likedMemos:function(username){return Object(reselect_es.a)([user_selector_getUserByUsername(username),memo_selector_getMemos],function(user,memos){return user&&user.likes?user.likes.reduce(function(obj,like){var combinedMemoId=combineMemoId(like.relation.username,like.relation.index);return obj[combinedMemoId]=memos[combinedMemoId],obj},{}):void 0})}(username)(state),pathname:getPathname(state)}},function(dispatch){return{onMemosClicked:function(memos,username){memos||dispatch(memo_actions_getMemosForUser(username)),dispatch(Object(connected_react_router_lib.push)("/profile/".concat(username,"/memos")))},onFollowersClicked:function(followers,username){followers||dispatch(function(username){return function(){var _ref=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee(dispatch,getState){var state,followers,missingUsernames;return regenerator_default.a.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:state=getState(),(followers=user_selector_getUserFollowers(username)(state))&&followers.length>0&&(missingUsernames=user_selector_getMissingUsers(followers)(state))&&missingUsernames.length>0&&dispatch(user_actions_getUsers(missingUsernames));case 3:case"end":return _context.stop()}},_callee,this)}));return function(_x,_x2){return _ref.apply(this,arguments)}}()}(username)),dispatch(Object(connected_react_router_lib.push)("/profile/".concat(username,"/followers")))},onFollowingClicked:function(following,username){following||dispatch(function(username){return function(){var _ref2=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee2(dispatch,getState){var state,following,missingUsernames;return regenerator_default.a.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:state=getState(),(following=user_selector_getUserFollowing(username)(state))&&following.length>0&&(missingUsernames=user_selector_getMissingUsers(following)(state))&&missingUsernames.length>0&&dispatch(user_actions_getUsers(missingUsernames));case 3:case"end":return _context2.stop()}},_callee2,this)}));return function(_x3,_x4){return _ref2.apply(this,arguments)}}()}(username)),dispatch(Object(connected_react_router_lib.push)("/profile/".concat(username,"/following")))},onLikedMemosClicked:function(likedMemos,username){likedMemos||dispatch(function(username){return function(){var _ref3=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee3(dispatch,getState){var state,likes,likesOfMissingMemos;return regenerator_default.a.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(state=getState(),!((likes=user_selector_getUserLikes(username)(state))&&likes.length>0)){_context3.next=8;break}if(!((likesOfMissingMemos=memo_selector_getLikesOfMissingMemos(likes)(state))&&likesOfMissingMemos.length>0)){_context3.next=7;break}return _context3.next=7,dispatch(memo_actions_getMemos(likesOfMissingMemos.map(function(like){return{username:like.relation.username,idx:like.relation.index}})));case 7:return _context3.abrupt("return",memo_selector_getMemosByCombinedIds(likes.map(function(like){return combineMemoId(like.relation.username,like.relation.index)}))(state));case 8:case"end":return _context3.stop()}},_callee3,this)}));return function(_x5,_x6){return _ref3.apply(this,arguments)}}()}(username)),dispatch(Object(connected_react_router_lib.push)("/profile/".concat(username,"/likes")))}}})(profile_content_component),profile_edit_component=function(props){var profile=props.profile,values=props.values,errors=props.errors,handleBlur=props.handleBlur,handleSubmit=props.handleSubmit,handleChange=props.handleChange,onCanceled=props.onCanceled;return react_default.a.createElement(Form.a,{onSubmit:handleSubmit},react_default.a.createElement(Card.a,null,react_default.a.createElement(Image.a,{src:profile.avatarUrl,size:"medium"}),react_default.a.createElement(Card.a.Content,null,react_default.a.createElement(Card.a.Header,null,profile.username,react_default.a.createElement(follow_button_container,{userProfile:profile})),react_default.a.createElement(Card.a.Description,null,react_default.a.createElement(textarea_with_char_counter_component_TextAreaWithCharCounter,{name:"bio",autoHeight:!0,value:values.bio,onChange:handleChange,onBlur:handleBlur,maxLength:"144"}))),react_default.a.createElement(Card.a.Content,{extra:!0,textAlign:"right"},react_default.a.createElement(Button.a,{type:"submit",size:"mini",content:"Update",primary:!0,disabled:!!errors.bio}),react_default.a.createElement(Button.a,{type:"reset",size:"mini",content:"Cancel",onClick:onCanceled}))))},profile_edit_container_validationSchema=yup_lib.object().shape({bio:yup_lib.string().min(1).max(144).required("Text is required!")}),profile_edit_container=Object(formik_esm.a)({mapPropsToValues:function(_ref){var _ref$profile=_ref.profile;return{username:_ref$profile.username,bio:_ref$profile.bio}},validationSchema:profile_edit_container_validationSchema,handleSubmit:function(_ref2,_ref3){var bio=_ref2.bio;(0,_ref3.props.onSubmitted)(bio)}})(profile_edit_component),profile_view_component=function(_Component){function ProfileViewComponent(){var _getPrototypeOf2,_this;Object(classCallCheck.a)(this,ProfileViewComponent);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=Object(possibleConstructorReturn.a)(this,(_getPrototypeOf2=Object(getPrototypeOf.a)(ProfileViewComponent)).call.apply(_getPrototypeOf2,[this].concat(args)))).state={editing:!1},_this.onEdit=function(){_this.setState({editing:!0})},_this.onEditSubmitted=function(bio){_this.props.onEditSubmitted(bio),_this.setState({editing:!1})},_this.onEditCanceled=function(){_this.setState({editing:!1})},_this}return Object(inherits.a)(ProfileViewComponent,_Component),Object(createClass.a)(ProfileViewComponent,[{key:"componentDidMount",value:function(){var _this$props=this.props,username=_this$props.username;_this$props.profile||this.props.getUser(username)}},{key:"render",value:function(){var _this$props2=this.props,profile=_this$props2.profile,isProfileOfCurrentUser=_this$props2.isProfileOfCurrentUser,editing=this.state.editing;return react_default.a.createElement(react_default.a.Fragment,null,profile?react_default.a.createElement(Container.a,{style:{marginTop:"7em"}},react_default.a.createElement(Grid.a,null,react_default.a.createElement(Grid.a.Row,null,react_default.a.createElement(Grid.a.Column,{width:4},editing?react_default.a.createElement(profile_edit_container,{profile:profile,onSubmitted:this.onEditSubmitted,onCanceled:this.onEditCanceled}):react_default.a.createElement(profile_info_component,{profile:profile,ownProfile:isProfileOfCurrentUser,onEditClicked:this.onEdit})),react_default.a.createElement(Grid.a.Column,{width:12},react_default.a.createElement(profile_content_container,{profile:profile}))))):react_default.a.createElement(Dimmer.a,{active:!0,inverted:!0},react_default.a.createElement(Loader.a,{size:"small"},"Loading")))}}]),ProfileViewComponent}(react.Component),profile_view_container=Object(es.connect)(function(state,ownProps){var username=ownProps.match.params.username,profile=function(username){return Object(reselect_es.a)([user_selector_getUserByUsername(username)],function(user){return user?user.profile:void 0})}(username)(state);return{username:username,profile:profile,isProfileOfCurrentUser:user_selector_isProfileOfCurrentUser(profile)(state)}},function(dispatch){return{getUser:function(username){dispatch(user_actions_getUser(username))},onEditSubmitted:function(bio){return dispatch(function(bio){return function(){var _ref4=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee4(dispatch,getState){var lib,currentUser,profile;return regenerator_default.a.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return lib=getMemoDashLib(getState()),_context4.next=3,lib.updateProfile(bio);case 3:return currentUser=getCurrentUsername(getState()),_context4.next=6,lib.getUserProfile(currentUser);case 6:return profile=_context4.sent,_context4.next=9,dispatch(userUpdated(currentUser,{profile:profile}));case 9:case"end":return _context4.stop()}},_callee4,this)}));return function(_x7,_x8){return _ref4.apply(this,arguments)}}()}(bio))}}})(profile_view_component),objectWithoutProperties=__webpack_require__(465),private_route_component=function(_ref){var Component=_ref.component,rest=Object(objectWithoutProperties.a)(_ref,["component"]);return react_default.a.createElement(Route.a,Object.assign({},rest,{render:function(props){return rest.isLoggedIn?react_default.a.createElement(Component,props):react_default.a.createElement(Redirect.a,{to:{pathname:"/",state:{from:props.location}}})}}))},private_route_container=Object(es.connect)(function(state){return{isLoggedIn:function(state){return Boolean(getCurrentUser(state))}(state)}},function(dispatch){return{}})(private_route_component),Popup=__webpack_require__(2037),Dropdown=__webpack_require__(2031),user_menu_component=(__webpack_require__(2005),function(props){return react_default.a.createElement(Dropdown.a,{item:!0,simple:!0,trigger:(username=props.username,avatarUrl=props.avatarUrl,react_default.a.createElement("span",null,react_default.a.createElement(Image.a,{src:avatarUrl,size:"mini",spaced:"right",className:"user-menu-avatar"}),username))},react_default.a.createElement(Dropdown.a.Menu,null,react_default.a.createElement(Dropdown.a.Item,{onClick:function(){return props.onProfileClicked(props.username)},active:"/profile"===props.location},"Your Profile"),react_default.a.createElement(Dropdown.a.Divider,null),react_default.a.createElement(Dropdown.a.Item,{onClick:props.onSignOutClicked},"Sign Out")));var username,avatarUrl}),user_menu_container=Object(es.connect)(function(state){var user=getCurrentUser(state);return{username:user.username,avatarUrl:user.profile.avatarUrl}},function(dispatch){return{onProfileClicked:function(username){dispatch(Object(connected_react_router_lib.push)("/profile/".concat(username)))},onSignOutClicked:function(){dispatch(function(){var _ref2=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee2(dispatch,getState){var _getState2,memoDashLib;return regenerator_default.a.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(_getState2=getState(),memoDashLib=_getState2.root.memoDashLib){_context2.next=4;break}return dispatch(logoutError("MemoDashLib isnt initialized yet")),_context2.abrupt("return");case 4:return _context2.prev=4,_context2.next=7,memoDashLib.logout();case 7:dispatch(logoutSuccessfull()),dispatch(Object(connected_react_router_lib.push)("/")),_context2.next=14;break;case 11:_context2.prev=11,_context2.t0=_context2.catch(4),dispatch(logoutError(_context2.t0.message));case 14:case"end":return _context2.stop()}},_callee2,this,[[4,11]])}));return function(_x3,_x4){return _ref2.apply(this,arguments)}}())}}})(user_menu_component),lodash=__webpack_require__(21),lodash_default=__webpack_require__.n(lodash),Search=__webpack_require__(2035),SEARCH_CATEGORIES=(__webpack_require__(2007),{USERS:"users",MEMOS:"memos"}),search_component_SearchComponent=function(_Component){function SearchComponent(){var _getPrototypeOf2,_this;Object(classCallCheck.a)(this,SearchComponent);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=Object(possibleConstructorReturn.a)(this,(_getPrototypeOf2=Object(getPrototypeOf.a)(SearchComponent)).call.apply(_getPrototypeOf2,[this].concat(args)))).state={isLoading:!1,results:[],value:""},_this.resetComponent=function(){return _this.setState({isLoading:!1,results:[],value:""})},_this.handleResultSelect=function(e,_ref){var result=_ref.result;switch(result.category){case SEARCH_CATEGORIES.USERS:_this.props.onGoToProfileClicked(result.childKey);break;case SEARCH_CATEGORIES.MEMOS:_this.props.onOpenMemoClicked(result.childKey)}},_this.handleSearchChange=function(e,_ref2){var value=_ref2.value;if(_this.setState({isLoading:!0,value:value}),value.length<1)return _this.resetComponent();var source=_this.props.source,re=new RegExp(lodash_default.a.escapeRegExp(value),"i"),isMatch=function(result){return re.test(result.title)},filteredResults=lodash_default.a.reduce(source,function(result,data,name){var results=lodash_default.a.filter(data.results,isMatch);return results.length&&(result[name]={name:name,results:results}),result},{});_this.setState({isLoading:!1,results:filteredResults})},_this}return Object(inherits.a)(SearchComponent,_Component),Object(createClass.a)(SearchComponent,[{key:"componentDidMount",value:function(){this.props.getAllUsers()}},{key:"render",value:function(){var _this$state=this.state,isLoading=_this$state.isLoading,value=_this$state.value,results=_this$state.results;return react_default.a.createElement(Grid.a,null,react_default.a.createElement(Grid.a.Column,{width:8},react_default.a.createElement(Search.a,{category:!0,loading:isLoading,onResultSelect:this.handleResultSelect,onSearchChange:lodash_default.a.debounce(this.handleSearchChange,500,{leading:!0}),results:results,value:value,placeholder:"Search MemoDash",size:"tiny"})))}}]),SearchComponent}(react.Component),search_container=Object(es.connect)(function(state){return{source:{users:{name:SEARCH_CATEGORIES.USERS,results:(category=SEARCH_CATEGORIES.USERS,Object(reselect_es.a)([user_selector_getUsers],function(users){return Object.entries(users).map(function(entry){var username=entry[0],user=entry[1];return{childKey:username,category:category,title:user.username,description:user.profile.bio,image:user.profile.avatarUrl}})}))(state)},memos:{name:SEARCH_CATEGORIES.MEMOS,results:function(category){return Object(reselect_es.a)([memo_selector_getMemos,user_selector_getUsers],function(memos,users){return Object.entries(memos).map(function(entry){var memoId=entry[0],memo=entry[1],user=users[memo.username];return{childKey:memoId,category:category,title:memo.memoText,image:user?user.profile.avatarUrl:null}})})}(SEARCH_CATEGORIES.MEMOS)(state)}}};var category},function(dispatch){return{getAllUsers:function(){return dispatch(user_actions_getAllUsers())},onGoToProfileClicked:function(username){return dispatch(Object(connected_react_router_lib.push)("/profile/".concat(username)))},onOpenMemoClicked:function(memoId){return dispatch(function(memoId){return function(){var _ref=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee(dispatch,getState){var memo;return regenerator_default.a.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:memo=memo_selector_getMemoByCombinedId(memoId)(getState()),dispatch(openMemoModal(memo));case 2:case"end":return _context.stop()}},_callee,this)}));return function(_x,_x2){return _ref.apply(this,arguments)}}()}(memoId))}}})(search_component_SearchComponent),header_component=function(props){var onHomeClicked=props.onHomeClicked,onUsersClicked=props.onUsersClicked;return react_default.a.createElement(Menu.a,{fixed:"top",color:"blue",size:"tiny"},react_default.a.createElement(Container.a,null,react_default.a.createElement(Menu.a.Item,{as:"a",onClick:onHomeClicked,header:!0},react_default.a.createElement(logo_component,null),react_default.a.createElement("div",{className:"active"},"MemoDash")),react_default.a.createElement(Menu.a.Item,{as:"a",onClick:onHomeClicked,active:"/home"===props.location},"Home"),react_default.a.createElement(Menu.a.Item,{as:"a",onClick:onUsersClicked,active:"/users"===props.location},"Users"),react_default.a.createElement(Menu.a.Menu,{position:"right"},react_default.a.createElement(Menu.a.Item,null,react_default.a.createElement(search_container,null)),react_default.a.createElement(user_menu_container,{position:"right"}),react_default.a.createElement(Popup.a,{trigger:react_default.a.createElement(Menu.a.Item,{as:"a",onClick:props.resetVMN},react_default.a.createElement(Icon.a,{name:"erase",color:"black"})),content:"Reset VMN",position:"bottom left"}),react_default.a.createElement(Popup.a,{trigger:react_default.a.createElement(Menu.a.Item,{as:"a",href:"/block-explorer.html",target:"_blank"},react_default.a.createElement(Icon.a,{name:"block layout",color:"black"})),content:"Block Explorer",position:"bottom left"}))))},header_container=Object(es.connect)(function(state){return{location:getPathname(state)}},function(dispatch){return{onHomeClicked:function(){dispatch(Object(connected_react_router_lib.push)("/home"))},onUsersClicked:function(){dispatch(Object(connected_react_router_lib.push)("/users"))},resetVMN:function(){dash_vmn.Schema.VMN.Util.reset(),window.location.reload()}}})(header_component),users_view_component=function(_Component){function UsersViewComponent(){return Object(classCallCheck.a)(this,UsersViewComponent),Object(possibleConstructorReturn.a)(this,Object(getPrototypeOf.a)(UsersViewComponent).apply(this,arguments))}return Object(inherits.a)(UsersViewComponent,_Component),Object(createClass.a)(UsersViewComponent,[{key:"componentDidMount",value:function(){this.props.getAllUsers()}},{key:"render",value:function(){var _this$props=this.props,users=_this$props.users,currentUser=_this$props.currentUser;if(!users)return null;var userProfilesWithoutMe=Object.values(users).filter(function(user){return user.username!==currentUser}).map(function(user){return user.profile});return react_default.a.createElement(Container.a,{style:{marginTop:"7em"}},react_default.a.createElement(profile_overviews_component,{itemsPerRow:4,userProfiles:userProfilesWithoutMe}))}}]),UsersViewComponent}(react.Component),users_view_container=Object(es.connect)(function(state){return{users:user_selector_getUsers(state),currentUser:getCurrentUsername(state)}},function(dispatch){return{getAllUsers:function(){dispatch(user_actions_getAllUsers())}}})(users_view_component),routes_withHeader=function(WrappedComponent){return function(props){return react_default.a.createElement("div",{style:{backgroundColor:"#f1f1f1"}},react_default.a.createElement(header_container,null),react_default.a.createElement(WrappedComponent,props))}},src_routes=react_default.a.createElement("div",null,react_default.a.createElement(Switch.a,null,react_default.a.createElement(Route.a,{exact:!0,path:"/",component:login_view_container}),react_default.a.createElement(Route.a,{path:"/login",component:login_view_container}),react_default.a.createElement(private_route_container,{path:"/home",component:routes_withHeader(home_view_container)}),react_default.a.createElement(private_route_container,{path:"/users",component:routes_withHeader(users_view_container)}),react_default.a.createElement(Redirect.a,{exact:!0,from:"/profile/:username",to:"/profile/:username/memos"}),react_default.a.createElement(private_route_container,{path:"/profile/:username/*",component:routes_withHeader(profile_view_container)}),react_default.a.createElement(Route.a,{component:function(_ref){var location=_ref.location;return react_default.a.createElement("div",null,react_default.a.createElement("h3",null,"No match for ",react_default.a.createElement("code",null,location.pathname)))}}))),app_AppComponent=function(_Component){function AppComponent(){return Object(classCallCheck.a)(this,AppComponent),Object(possibleConstructorReturn.a)(this,Object(getPrototypeOf.a)(AppComponent).apply(this,arguments))}return Object(inherits.a)(AppComponent,_Component),Object(createClass.a)(AppComponent,[{key:"componentDidMount",value:function(){var _componentDidMount=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.props.init();case 2:case"end":return _context.stop()}},_callee,this)}));return function(){return _componentDidMount.apply(this,arguments)}}()},{key:"render",value:function(){return react_default.a.createElement(react_default.a.Fragment,null,src_routes)}}]),AppComponent}(react.Component),src_app=Object(withRouter.a)(Object(es.connect)(function(state){return{isLoggedIn:!!state.user.currentUser}},function(dispatch){return{init:function(){dispatch(function(){var _ref=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee(dispatch){var memoDashLib;return regenerator_default.a.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return memoDashLib=new memo_dash_lib_MemoDashLib,_context.next=3,memoDashLib.init();case 3:dispatch(initFinished(memoDashLib));case 4:case"end":return _context.stop()}},_callee,this)}));return function(_x){return _ref.apply(this,arguments)}}())}}})(app_AppComponent)),react_hot_loader=__webpack_require__(463);console.log("CREATE_STORE",store.getState());var Component;!function(){if("serviceWorker"in navigator){if(new URL("/memo-dash",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var swUrl="".concat("/memo-dash","/service-worker.js");isLocalhost?(function(swUrl){fetch(swUrl).then(function(response){404===response.status||-1===response.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(registration){registration.unregister().then(function(){window.location.reload()})}):registerValidSW(swUrl)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(swUrl),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):registerValidSW(swUrl)})}}(),Component=src_app,react_dom_default.a.render(react_default.a.createElement(react_hot_loader.AppContainer,null,react_default.a.createElement(es.Provider,{store:store},react_default.a.createElement(connected_react_router_lib.ConnectedRouter,{history:store_history},react_default.a.createElement(Component,null)))),document.getElementById("root"))},370:function(module,exports,__webpack_require__){},439:function(module,exports){module.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKQAAACICAYAAABp20AMAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAB1xpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICAgICAgICAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICAgICAgICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgICAgICAgICB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIj4KICAgICAgICAgPHBob3Rvc2hvcDpJQ0NQcm9maWxlPnNSR0IgSUVDNjE5NjYtMi4xPC9waG90b3Nob3A6SUNDUHJvZmlsZT4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxOC0wNS0xNVQxMzoyNzowOCswODowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTgtMDUtMTVUMTM6MjY6MzMrMDg6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxOC0wNS0xNVQxMzoyNzowOCswODowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDowOWY5OTRkNC0yNGIzLTRlNDMtYWFkOC1jOTEzNzRiMWNmZTA8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE4LTA1LTE1VDEzOjI2OjMzKzA4OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjA5Zjk5NGQ0LTI0YjMtNGU0My1hYWQ4LWM5MTM3NGIxY2ZlMDwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jcmVhdGVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDowOWY5OTRkNC0yNGIzLTRlNDMtYWFkOC1jOTEzNzRiMWNmZTA8L3ht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"},475:function(module,exports,__webpack_require__){module.exports=__webpack_require__(2011)},483:function(module,exports,__webpack_require__){},529:function(module,exports){},564:function(module,exports){},566:function(module,exports){},600:function(module,exports){},602:function(module,exports){},608:function(module,exports){},611:function(module,exports){},626:function(module,exports){},644:function(module,exports){},659:function(module,exports){},735:function(module,exports){}},[[475,2,1]]]);
//# sourceMappingURL=main.9553a93b.chunk.js.map